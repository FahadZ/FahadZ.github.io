/*! v0.3 */
(function(n,t){"use strict";function g(){if(u=r(w),i=r("ul",u),o=r("li",i),e=rt("transition")&&!1,f=o.outerWidth(!0),h=Math.floor(f/b)*1e3,e)i.on("webkitTransitionEnd oTransitionEnd otransitionend transitionend",l);l();tt();r(n).on("resize",function(){s=!0});c()}function c(){setTimeout(function(){if(document.hidden){c();return}r.ajax(u.data("callback"),{data:{currency:u.data("currency")},timeout:k,success:nt,complete:c})},d)}function nt(n){n&&n.quotes&&r.each(n.quotes,function(){var n=this.quote,i=r("span.quote-container."+n.symbol.toLowerCase()),u=p(n.ask,2,!1,!1,!0),t=p(n.oneDayChange,2,!0,!1,!0),f=n.oneDayChange<0?"down":"up";n.oneDayChange>0&&(t="+"+t);r(".price",i).text(u);r(".change",i).text(t).removeClass("up down").addClass(f)})}function tt(){u.on("mouseenter",function(){e?i.css("right",i.css("right")):i.stop(!0);v=h-(new Date-a)}).on("mouseleave",function(){y(v)})}function y(n){n===t&&(n=h);e?setTimeout(function(){i.css({transitionDuration:n+"ms",right:0})},0):i.animate({right:0},{easing:"linear",duration:n,complete:l})}function it(){var n,t,e;if(s){for(s=!1,n=Math.ceil(u.width()/f)-r("li",i).length+1,t=0;t<n;t++)i.prepend(o.clone());n>0&&(e=r("li",i).length*f,i.width(e+2))}i.css({right:"-"+f+"px"});a=new Date}function l(){it();e&&i.css("transitionDuration","0ms");y()}function p(n,t,i,r,u){var o,h,f,c,s,e;if(isNaN(parseInt(n)))return"";if(o=n,h=n<0?-1:1,o*=Math.pow(10,t),o=Math.round(Math.abs(o)),o/=Math.pow(10,t),o*=h,f=new String(o),t>0)for(f.indexOf(".")===-1&&(f+="."),c=t-f.split(".")[1].length,s=0;s<c;s++)f+="0";if(!i&&n<1&&n>-1&&n!=0&&(f=n>0?f.substring(1,f.length):"-"+f.substring(2,f.length)),u&&(n>=1e3||n<=-1e3))for(e=f.indexOf("."),e<0&&(e=f.length),e-=3;e>=1;)f=f.substring(0,e)+","+f.substring(e,f.length),e-=3;return r&&n<0&&(f="("+f.substring(1,f.length)+")"),f}function rt(n){var r,f=n.charAt(0).toUpperCase()+n.slice(1),u=["Moz","Webkit","O","ms"],i=document.createElement("div"),t;if(n in i.style)return!0;for(t=0;t<u.length;t++)if(r=u[t]+f,r in i.style)return!0;return i=null,!1}var w=".ticker > .container",r=n.jQuery,u,i,o,f,s=!0,b=30,h,e,a,v,k=5e3,d=15e3;r(document).ready(g)})(window)